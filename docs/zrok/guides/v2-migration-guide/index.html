<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-zrok docs-version-current docs-doc-page docs-doc-id-guides/v2-migration-guide" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Migrating from v1 to v2 | zrok</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://docs.zrok.io/docs/zrok/guides/v2-migration-guide/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" data-rh="true" name="nf-layout-version" content="0.1.1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-zrok-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-zrok-current"><meta data-rh="true" property="og:title" content="Migrating from v1 to v2 | zrok"><meta data-rh="true" name="description" content="This guide helps you transition from zrok v1.x to v2.0, focusing on the paradigm shift from reserved shares to the new namespaces model."><meta data-rh="true" property="og:description" content="This guide helps you transition from zrok v1.x to v2.0, focusing on the paradigm shift from reserved shares to the new namespaces model."><link data-rh="true" rel="icon" href="/img/zrok-favicon.png"><link data-rh="true" rel="canonical" href="https://docs.zrok.io/docs/zrok/guides/v2-migration-guide/"><link data-rh="true" rel="alternate" href="https://docs.zrok.io/docs/zrok/guides/v2-migration-guide/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.zrok.io/docs/zrok/guides/v2-migration-guide/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://docs.zrok.io/docs/zrok/category/guides"},{"@type":"ListItem","position":2,"name":"v2 Migration Guide","item":"https://docs.zrok.io/docs/zrok/guides/v2-migration-guide"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-MDFLZPK8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-MDFLZPK8",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.f95dbfed.css">
<script src="/assets/js/runtime~main.58a4bd10.js" defer="defer"></script>
<script src="/assets/js/main.9afb8f4e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://zrok.io" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/img/zrok-1.0.0-rocket-green.svg" alt="zrok Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/zrok-1.0.0-rocket-green.svg" alt="zrok Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">zrok</b></a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/zrok/guides/v2-migration-guide/">2.0 (Current)</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/zrok/guides/v2-migration-guide/">2.0 (Current)</a></li><li><a class="dropdown__link" href="/docs/zrok/1.1/getting-started/">1.1</a></li><li><a class="dropdown__link" href="/docs/zrok/1.0/getting-started/">1.0</a></li></ul></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://zrok.io/pricing/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">pricing<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://myzrok.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">account<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/orgs/openziti/projects/16" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">roadmap<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><a href="https://github.com/openziti/zrok" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" title="GitHub"></a><a href="https://openziti.discourse.group/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discourse-link" title="Discourse"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="starUsRoot_XOT4"><span style="color:whitesmoke">Star zrok on GitHub<!-- --> </span><span style="height:20px"><span><a href="https://github.com/openziti/zrok" data-icon="octicon-star" data-show-count="true" aria-label="Star buttons/github-buttons on GitHub">Star</a></span></span></div><div class="main-wrapper ozLayoutMainWrapper_GOGT"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zrok/getting-started/"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/zrok/concepts/"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a><button aria-label="Expand sidebar category &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/zrok/category/guides/"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/zrok/guides/v2-migration-guide/"><span title="v2 Migration Guide" class="linkLabel_WmDU">v2 Migration Guide</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/zrok/guides/install/"><span title="Install" class="categoryLinkLabel_W154">Install</span></a><button aria-label="Expand sidebar category &#x27;Install&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/zrok/guides/agent/"><span title="The zrok Agent" class="categoryLinkLabel_W154">The zrok Agent</span></a><button aria-label="Expand sidebar category &#x27;The zrok Agent&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zrok/guides/frontdoor/"><span title="frontdoor" class="linkLabel_WmDU">frontdoor</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zrok/guides/permission-modes/"><span title="Permission Modes" class="linkLabel_WmDU">Permission Modes</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/zrok/guides/docker-share/"><span title="Docker Share" class="categoryLinkLabel_W154">Docker Share</span></a><button aria-label="Expand sidebar category &#x27;Docker Share&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/zrok/category/self-hosting/"><span title="Self Hosting" class="categoryLinkLabel_W154">Self Hosting</span></a><button aria-label="Expand sidebar category &#x27;Self Hosting&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zrok/guides/drives/"><span title="Drives" class="linkLabel_WmDU">Drives</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zrok/guides/vpn/"><span title="VPN (Deprecated)" class="linkLabel_WmDU">VPN (Deprecated)</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/zrok/category/myzrok/"><span title="myzrok" class="categoryLinkLabel_W154">myzrok</span></a><button aria-label="Expand sidebar category &#x27;myzrok&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/zrok/category/guides/"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">v2 Migration Guide</span></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.0 (Current)</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Migrating from zrok v1 to v2</h1></header>
<p>This guide helps you transition from zrok v1.x to v2.0, focusing on the paradigm shift from reserved shares to the new namespaces model.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>breaking changes</div><div class="admonitionContent_BuS1"><p>zrok v2.0 introduces breaking changes. The reserved sharing commands (<code>zrok reserve</code>, <code>zrok release</code>, <code>zrok share reserved</code>) have been removed and replaced with a more flexible namespace system.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="whats-changing">What&#x27;s Changing?<a href="#whats-changing" class="hash-link" aria-label="Direct link to What&#x27;s Changing?" title="Direct link to What&#x27;s Changing?" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="the-big-picture">The Big Picture<a href="#the-big-picture" class="hash-link" aria-label="Direct link to The Big Picture" title="Direct link to The Big Picture" translate="no">​</a></h3>
<p>In v1.x, you created reserved shares with persistent share tokens using <code>zrok reserve</code>. In v2.0, this concept has evolved into a more powerful system:</p>
<ul>
<li class=""><strong>namespaces</strong> - &quot;zones&quot; that contain names (typically corresponding with a DNS zone)</li>
<li class=""><strong>names</strong> - unique identifiers within namespaces that can be reserved or ephemeral (typically corresponding with an <code>A</code> record in a DNS zone)</li>
</ul>
<p>This new model provides:</p>
<ul>
<li class="">Less coupling between environments and external names; this means you can more easily move your share backends around between hosts and reconfigure how you&#x27;re sharing, without changing the names you&#x27;re sharing with</li>
<li class="">Support for multiple names per share</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="configuration-changes">Configuration Changes<a href="#configuration-changes" class="hash-link" aria-label="Direct link to Configuration Changes" title="Direct link to Configuration Changes" translate="no">​</a></h3>
<p>The <code>defaultFrontend</code> configuration option has been replaced with <code>defaultNamespace</code>. You&#x27;ll need to update your configuration files accordingly (see <code>zrok status</code> and <code>zrok config --help</code>).</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="concept-mapping-v1--v2">Concept Mapping: v1 → v2<a href="#concept-mapping-v1--v2" class="hash-link" aria-label="Direct link to Concept Mapping: v1 → v2" title="Direct link to Concept Mapping: v1 → v2" translate="no">​</a></h2>
<table><thead><tr><th>v1.x concept</th><th>v2.0 equivalent</th><th>description</th></tr></thead><tbody><tr><td>reserved share</td><td>reserved name in a namespace</td><td>A persistent external name for your share</td></tr><tr><td><code>zrok reserve</code></td><td><code>zrok2 create name</code></td><td>Create a reserved name</td></tr><tr><td><code>zrok share reserved &lt;token&gt;</code></td><td><code>zrok2 share public/private -n &lt;namespaceToken&gt;:&lt;name&gt;</code></td><td>Share using a name (<code>-n</code> selects a name in a namespace)</td></tr><tr><td><code>zrok release &lt;token&gt;</code></td><td><code>zrok2 delete name &lt;name&gt;</code></td><td>Remove a reserved name</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="command-reference">Command Reference<a href="#command-reference" class="hash-link" aria-label="Direct link to Command Reference" title="Direct link to Command Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="removed-commands">Removed Commands<a href="#removed-commands" class="hash-link" aria-label="Direct link to Removed Commands" title="Direct link to Removed Commands" translate="no">​</a></h3>
<p>These commands no longer exist in v2.0:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># no longer available</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 reserve public --backend-mode web /path/to/files</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 reserve private http://localhost:3000</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 share reserved &lt;token&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 release &lt;token&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 overview public-frontends</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-commands">New Commands<a href="#new-commands" class="hash-link" aria-label="Direct link to New Commands" title="Direct link to New Commands" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="namespace-management-end-users">Namespace Management (End Users)<a href="#namespace-management-end-users" class="hash-link" aria-label="Direct link to Namespace Management (End Users)" title="Direct link to Namespace Management (End Users)" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># list available namespaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 list namespaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># list all your names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 list names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># create a reserved name (persistent)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 create name -n &lt;namespaceToken&gt; &lt;name&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># modify a name (e.g., toggle reserved status)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 modify name -n &lt;namespaceToken&gt; &lt;name&gt; -r|-r=false</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># delete a name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 delete name -n &lt;namespaceToken&gt; &lt;name&gt;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="sharing-with-names">Sharing with Names<a href="#sharing-with-names" class="hash-link" aria-label="Direct link to Sharing with Names" title="Direct link to Sharing with Names" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># public share with a name selection</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 share public &lt;target&gt; -n &lt;namespaceToken&gt;:&lt;name&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># private share with vanity token</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">zrok2 share private &lt;target&gt; --share-token my-custom-token</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-walkthrough">Migration Walkthrough<a href="#migration-walkthrough" class="hash-link" aria-label="Direct link to Migration Walkthrough" title="Direct link to Migration Walkthrough" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scenario-1-simple-reserved-public-share">Scenario 1: Simple Reserved Public Share<a href="#scenario-1-simple-reserved-public-share" class="hash-link" aria-label="Direct link to Scenario 1: Simple Reserved Public Share" title="Direct link to Scenario 1: Simple Reserved Public Share" translate="no">​</a></h3>
<p><strong>v1.x workflow:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># create a reserved share</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok reserve public --backend-mode web /var/www/mysite</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">your reserved share token is &#x27;abc123xyz&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">reserved frontend endpoint: https://abc123xyz.share.zrok.io</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># start sharing</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok share reserved abc123xyz</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># later, release it</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok release abc123xyz</span><br></span></code></pre></div></div>
<p><strong>v2.0 workflow:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># first, check available namespaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 list namespaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">╭───────────────────────┬─────────────────┬─────────────╮</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ NAME                  │ NAMESPACE TOKEN │ DESCRIPTION │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───────────────────────┼─────────────────┼─────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ example.com           │ public          │             │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">╰───────────────────────┴─────────────────┴─────────────╯</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># create a reserved name in the &#x27;public&#x27; namespace</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 create name -n public api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># start sharing using the name selection</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share public localhost:8080 -n public:api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># the name persists across share restarts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share public localhost:8080 -n public:api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># when done, delete the name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 delete name -n public api</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scenario-2-private-reserved-share">Scenario 2: Private Reserved Share<a href="#scenario-2-private-reserved-share" class="hash-link" aria-label="Direct link to Scenario 2: Private Reserved Share" title="Direct link to Scenario 2: Private Reserved Share" translate="no">​</a></h3>
<p><strong>v1.x workflow:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># reserve a private share</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok reserve private http://localhost:8080</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">your reserved share token is &#x27;xyz789abc&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># share it</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok share reserved xyz789abc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># access from another environment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok access private xyz789abc</span><br></span></code></pre></div></div>
<p><strong>v2.0 workflow:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># share privately using the name (-s specifies a share token name)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share private http://localhost:8080 -s myapi-prod</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># access from another environment</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 access private myapi-prod</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="scenario-3-ephemeral-shares-unchanged">Scenario 3: Ephemeral Shares (Unchanged)<a href="#scenario-3-ephemeral-shares-unchanged" class="hash-link" aria-label="Direct link to Scenario 3: Ephemeral Shares (Unchanged)" title="Direct link to Scenario 3: Ephemeral Shares (Unchanged)" translate="no">​</a></h3>
<p>Ephemeral shares work mostly the same, but now support optional name selections:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># v1.x - still works in v2.0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share public :8080</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="using-the-zrok-agent-with-v2">Using the zrok Agent with v2<a href="#using-the-zrok-agent-with-v2" class="hash-link" aria-label="Direct link to Using the zrok Agent with v2" title="Direct link to Using the zrok Agent with v2" translate="no">​</a></h2>
<p>If you&#x27;re using the zrok agent, there are significant improvements in v2.0:</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="automatic-retry-and-error-handling">Automatic Retry and Error Handling<a href="#automatic-retry-and-error-handling" class="hash-link" aria-label="Direct link to Automatic Retry and Error Handling" title="Direct link to Automatic Retry and Error Handling" translate="no">​</a></h3>
<p>The agent now automatically retries failed shares with exponential backoff. Errored processes receive transient <code>err_XXXX</code> tokens for management.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="persistent-shares">Persistent Shares<a href="#persistent-shares" class="hash-link" aria-label="Direct link to Persistent Shares" title="Direct link to Persistent Shares" translate="no">​</a></h3>
<p>Shares with reserved name selections automatically restart after abnormal exit or agent restart:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># create a reserved name (-n defaults to &#x27;public&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 create name myapp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># when agent running, share will persist across agent restarts due to reserved name</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># selection</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share public http://localhost:3000 -n public:myapp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># when agent running, private share with --share-token will persist across agent restarts</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share private http://localhost:3000 --share-token myapp</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="improved-status-command">Improved Status Command<a href="#improved-status-command" class="hash-link" aria-label="Direct link to Improved Status Command" title="Direct link to Improved Status Command" translate="no">​</a></h3>
<p>The <code>zrok2 agent status</code> command now shows:</p>
<ul>
<li class="">Detailed error states for failed processes</li>
<li class="">Frontend endpoints for public shares</li>
<li class="">Failure information with error messages</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="working-with-multiple-names">Working with Multiple Names<a href="#working-with-multiple-names" class="hash-link" aria-label="Direct link to Working with Multiple Names" title="Direct link to Working with Multiple Names" translate="no">​</a></h2>
<p>One powerful v2.0 feature: a single share can use multiple name selections:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># create multiple names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 create name myapp</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 create name myapp-staging</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># share using both names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 share public http://localhost:3000 \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -n public:myapp \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  -n public:myapp-staging</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># both URLs now point to the same share:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - https://myapp.share.zrok.io</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"> - https://myapp-staging.share.zrok.io</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="understanding-namespaces">Understanding Namespaces<a href="#understanding-namespaces" class="hash-link" aria-label="Direct link to Understanding Namespaces" title="Direct link to Understanding Namespaces" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-is-a-namespace">What is a Namespace?<a href="#what-is-a-namespace" class="hash-link" aria-label="Direct link to What is a Namespace?" title="Direct link to What is a Namespace?" translate="no">​</a></h3>
<p>A namespace is a logical grouping for names, similar to how a DNS zone works. Your zrok instance may have one or more namespaces available:</p>
<ul>
<li class=""><strong>public</strong> - typically the default namespace for all users</li>
<li class=""><strong>custom namespaces</strong> - may be created by administrators for specific purposes (custom domains, for example)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="listing-available-namespaces">Listing Available Namespaces<a href="#listing-available-namespaces" class="hash-link" aria-label="Direct link to Listing Available Namespaces" title="Direct link to Listing Available Namespaces" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 list namespaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">╭───────────────────────┬─────────────────┬─────────────╮</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ NAME                  │ NAMESPACE TOKEN │ DESCRIPTION │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───────────────────────┼─────────────────┼─────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ share.zrok.io         │ public          │             │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">╰───────────────────────┴─────────────────┴─────────────╯</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="checking-your-current-shares-and-names">Checking Your Current Shares and Names<a href="#checking-your-current-shares-and-names" class="hash-link" aria-label="Direct link to Checking Your Current Shares and Names" title="Direct link to Checking Your Current Shares and Names" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-all-your-names">View All Your Names<a href="#view-all-your-names" class="hash-link" aria-label="Direct link to View All Your Names" title="Direct link to View All Your Names" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 list names</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">╭───────────────────────────────┬─────────┬───────────┬─────────────┬──────────┬─────────────────────╮</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ URL                           │ NAME    │ NAMESPACE │ SHARE TOKEN │ RESERVED │ CREATED             │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">├───────────────────────────────┼─────────┼───────────┼─────────────┼──────────┼─────────────────────┤</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">│ testing.share.zrok.io         │ testing │ public    │             │ true     │ 2025-10-17 13:17:11 │</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">╰───────────────────────────────┴─────────┴───────────┴─────────────┴──────────┴─────────────────────╯</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-overview-now-includes-names">View Overview (Now Includes Names)<a href="#view-overview-now-includes-names" class="hash-link" aria-label="Direct link to View Overview (Now Includes Names)" title="Direct link to View Overview (Now Includes Names)" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 overview</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># shows human-readable format with names and namespaces</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># for json output</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">$ zrok2 overview --json</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="common-questions">Common Questions<a href="#common-questions" class="hash-link" aria-label="Direct link to Common Questions" title="Direct link to Common Questions" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="do-i-need-to-keep-the-same-url">Do I Need to Keep the Same URL?<a href="#do-i-need-to-keep-the-same-url" class="hash-link" aria-label="Direct link to Do I Need to Keep the Same URL?" title="Direct link to Do I Need to Keep the Same URL?" translate="no">​</a></h3>
<p>No, with the namespace/name system, your URLs will change based on the name you choose. If you need to maintain the same identifier, you can choose a name that matches your old token, though the full URL structure may differ based on how your zrok instance&#x27;s frontends are configured.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="can-i-use-the-old-share-tokens-as-names">Can I Use the Old Share Tokens as Names?<a href="#can-i-use-the-old-share-tokens-as-names" class="hash-link" aria-label="Direct link to Can I Use the Old Share Tokens as Names?" title="Direct link to Can I Use the Old Share Tokens as Names?" translate="no">​</a></h3>
<p>Yes, names can use the same format as old share tokens. However, this is your opportunity to choose more meaningful, memorable names for your shares.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-happens-to-permission-modes">What Happens to Permission Modes?<a href="#what-happens-to-permission-modes" class="hash-link" aria-label="Direct link to What Happens to Permission Modes?" title="Direct link to What Happens to Permission Modes?" translate="no">​</a></h3>
<p>Permission modes (open/closed) still work the same way with <code>--open</code> and <code>--closed</code> flags, plus the <code>--access-grant</code> flag for granting access to specific accounts.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="do-ephemeral-shares-still-work">Do Ephemeral Shares Still Work?<a href="#do-ephemeral-shares-still-work" class="hash-link" aria-label="Direct link to Do Ephemeral Shares Still Work?" title="Direct link to Do Ephemeral Shares Still Work?" translate="no">​</a></h3>
<p>Yes! Ephemeral shares work just as before. The main difference is they now support optional name selections, and by default names created without a reserved name selection are ephemeral.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="what-if-i-have-scripts-using-the-old-commands">What if I Have Scripts Using the Old Commands?<a href="#what-if-i-have-scripts-using-the-old-commands" class="hash-link" aria-label="Direct link to What if I Have Scripts Using the Old Commands?" title="Direct link to What if I Have Scripts Using the Old Commands?" translate="no">​</a></h3>
<p>You&#x27;ll need to update your scripts to use the new command structure. The good news is the new system is more flexible and often requires fewer steps for common workflows.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="getting-help">Getting Help<a href="#getting-help" class="hash-link" aria-label="Direct link to Getting Help" title="Direct link to Getting Help" translate="no">​</a></h2>
<p>If you run into issues during migration:</p>
<ol>
<li class="">Check <code>zrok2 status</code> to verify your environment is properly enabled</li>
<li class="">Use <code>zrok2 list namespaces</code> to see what namespaces are available to you</li>
<li class="">Use <code>zrok2 list names</code> to see your current names</li>
<li class="">Review the error messages - v2.0 has improved error reporting</li>
<li class="">Consult the <a class="" href="/docs/zrok/category/self-hosting/">self-hosting guides</a> if you manage your own instance</li>
<li class="">Check the <a class="" href="/docs/zrok/concepts/">concepts documentation</a> for deeper understanding</li>
<li class="">Reach out on the <a href="https://openziti.discourse.group" target="_blank" rel="noopener noreferrer" class="">OpenZiti Discourse</a> for help</li>
</ol></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/zrok/category/guides/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Guides</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/zrok/guides/install/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Install</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#whats-changing" class="table-of-contents__link toc-highlight">What&#39;s Changing?</a><ul><li><a href="#the-big-picture" class="table-of-contents__link toc-highlight">The Big Picture</a></li><li><a href="#configuration-changes" class="table-of-contents__link toc-highlight">Configuration Changes</a></li></ul></li><li><a href="#concept-mapping-v1--v2" class="table-of-contents__link toc-highlight">Concept Mapping: v1 → v2</a></li><li><a href="#command-reference" class="table-of-contents__link toc-highlight">Command Reference</a><ul><li><a href="#removed-commands" class="table-of-contents__link toc-highlight">Removed Commands</a></li><li><a href="#new-commands" class="table-of-contents__link toc-highlight">New Commands</a></li></ul></li><li><a href="#migration-walkthrough" class="table-of-contents__link toc-highlight">Migration Walkthrough</a><ul><li><a href="#scenario-1-simple-reserved-public-share" class="table-of-contents__link toc-highlight">Scenario 1: Simple Reserved Public Share</a></li><li><a href="#scenario-2-private-reserved-share" class="table-of-contents__link toc-highlight">Scenario 2: Private Reserved Share</a></li><li><a href="#scenario-3-ephemeral-shares-unchanged" class="table-of-contents__link toc-highlight">Scenario 3: Ephemeral Shares (Unchanged)</a></li></ul></li><li><a href="#using-the-zrok-agent-with-v2" class="table-of-contents__link toc-highlight">Using the zrok Agent with v2</a><ul><li><a href="#automatic-retry-and-error-handling" class="table-of-contents__link toc-highlight">Automatic Retry and Error Handling</a></li><li><a href="#persistent-shares" class="table-of-contents__link toc-highlight">Persistent Shares</a></li><li><a href="#improved-status-command" class="table-of-contents__link toc-highlight">Improved Status Command</a></li></ul></li><li><a href="#working-with-multiple-names" class="table-of-contents__link toc-highlight">Working with Multiple Names</a></li><li><a href="#understanding-namespaces" class="table-of-contents__link toc-highlight">Understanding Namespaces</a><ul><li><a href="#what-is-a-namespace" class="table-of-contents__link toc-highlight">What is a Namespace?</a></li><li><a href="#listing-available-namespaces" class="table-of-contents__link toc-highlight">Listing Available Namespaces</a></li></ul></li><li><a href="#checking-your-current-shares-and-names" class="table-of-contents__link toc-highlight">Checking Your Current Shares and Names</a><ul><li><a href="#view-all-your-names" class="table-of-contents__link toc-highlight">View All Your Names</a></li><li><a href="#view-overview-now-includes-names" class="table-of-contents__link toc-highlight">View Overview (Now Includes Names)</a></li></ul></li><li><a href="#common-questions" class="table-of-contents__link toc-highlight">Common Questions</a><ul><li><a href="#do-i-need-to-keep-the-same-url" class="table-of-contents__link toc-highlight">Do I Need to Keep the Same URL?</a></li><li><a href="#can-i-use-the-old-share-tokens-as-names" class="table-of-contents__link toc-highlight">Can I Use the Old Share Tokens as Names?</a></li><li><a href="#what-happens-to-permission-modes" class="table-of-contents__link toc-highlight">What Happens to Permission Modes?</a></li><li><a href="#do-ephemeral-shares-still-work" class="table-of-contents__link toc-highlight">Do Ephemeral Shares Still Work?</a></li><li><a href="#what-if-i-have-scripts-using-the-old-commands" class="table-of-contents__link toc-highlight">What if I Have Scripts Using the Old Commands?</a></li></ul></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Getting Help</a></li></ul></div></div></div></div></main></div></div><footer class="ozFooter_vn7r"><section class="footer_bja9 ozHorizontalSectionRoot_MqVF ozhsContent_Kh8Z"><div class="footerContainer_iBVG"><div class="footerGrid_Nk5d"><div class="footerColumn_pMZB"><h3>NetFoundry</h3><p>zrok is an open-source, self-hostable sharing platform that simplifies shielding and sharing network services or files.</p><div class="footerSocialLinks_fEp6"><a href="https://github.com/openziti/zrok" target="_blank" class="footerSocialLink_NibL" rel="noreferrer"><svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"></path></svg></a><a href="https://www.linkedin.com/company/netfoundry/" target="_blank" class="footerSocialLink_NibL" rel="noreferrer"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.996 16V10.1C15.996 7.5 15.375 5.49999 12.025 5.49999C10.4 5.49999 9.325 6.39999 8.875 7.29999H8.825V5.79999H5.65V16H8.95V10.7C8.95 9.30001 9.2 7.9 10.925 7.9C12.65 7.9 12.675 9.59999 12.675 10.8V16H15.996Z"></path><path d="M0.25 5.79999H3.575V16H0.25V5.79999Z"></path><path d="M1.9 0C0.85 0 0 0.85 0 1.9C0 2.95 0.85 3.8 1.9 3.8C2.95 3.8 3.8 2.95 3.8 1.9C3.8 0.85 2.95 0 1.9 0Z"></path></svg></a><a href="https://youtube.com/netfoundry/" target="_blank" class="footerSocialLink_NibL" rel="noreferrer"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.969 4.69c-.183-1.358-1.062-2.275-2.361-2.46C12.371 2 8 2 8 2S3.629 2 2.362 2.229c-1.3.186-2.179 1.103-2.361 2.461C0 6.03 0 10 0 10s0 3.97.2 5.31c.183 1.358 1.062 2.275 2.361 2.46C3.63 18 8 18 8 18s4.371 0 5.638-.23c1.3-.185 2.178-1.102 2.361-2.46.2-1.34.2-5.31.2-5.31s0-3.97-.23-5.31zm-8.36, 8.57V6.73l3.76 2.27-3.76 2.26z"></path></svg></a><a href="https://twitter.com/netfoundry/" target="_blank" class="footerSocialLink_NibL" rel="noreferrer"><svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M15.996 3.038c-.59.262-1.219.44-1.885.52.677-.406 1.194-1.05 1.438-1.815-.634.375-1.337.648-2.085.795-.598-.638-1.45-1.038-2.396-1.038-1.813 0-3.283 1.469-3.283 3.282 0 .257.03.507.085.748-2.728-.137-5.147-1.445-6.766-3.43-.282.485-.444 1.05-.444 1.651 0 1.14.58 2.143 1.46 2.732-.538-.017-1.044-.164-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.219-.276.075-.567.116-.866.116-.211 0-.416-.021-.617-.06.418 1.304 1.63 2.254 3.066 2.28-1.124.883-2.539 1.406-4.077 1.406-.265 0-.526-.015-.785-.046 1.453.933 3.178 1.475 5.032 1.475 6.038 0 9.34-5.002 9.34-9.34 0-.142-.004-.284-.01-.425.641-.463 1.198-1.039 1.638-1.696"></path></svg></a></div></div><div class="footerColumn_pMZB"><h3>Documentation</h3><ul class="footerLinks_L73s"><li><a href="/docs/zrok/getting-started">Get started with zrok</a></li></ul></div><div class="footerColumn_pMZB"><h3>Community</h3><ul class="footerLinks_L73s"><li><a href="https://openziti.discourse.group/">Discourse Forum</a></li></ul></div><div class="footerColumn_pMZB"><h3>Resources</h3><ul class="footerLinks_L73s"><li><a href="https://blog.openziti.io">OpenZiti Tech Blog</a></li><li><a href="https://netfoundry.io/">NetFoundry</a></li></ul></div></div></div><div class="footerCopyright_MQh5"><p>© 2025 NetFoundry Inc. OpenZiti is an open source project sponsored by NetFoundry. All rights reserved.</p></div></section></footer></div></div>
</body>
</html>