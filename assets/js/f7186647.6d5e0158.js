"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[5010],{67762:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>r,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"guides/self-hosting/oauth/integrations/google","title":"Google OAuth Setup","description":"This guide covers setting up Google OAuth for your zrok public frontend.","source":"@site/../docs/guides/self-hosting/oauth/integrations/google.md","sourceDirName":"guides/self-hosting/oauth/integrations","slug":"/guides/self-hosting/oauth/integrations/google","permalink":"/docs/guides/self-hosting/oauth/integrations/google","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/zrok/blob/main/docs/../docs/guides/self-hosting/oauth/integrations/google.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"OAuth Integrations","permalink":"/docs/category/oauth-integrations"},"next":{"title":"GitHub OAuth Setup","permalink":"/docs/guides/self-hosting/oauth/integrations/github"}}');var s=t(74848),i=t(28453);const r={sidebar_position:10},c="Google OAuth Setup",d={},a=[{value:"OAuth Consent Screen",id:"oauth-consent-screen",level:2},{value:"Create OAuth 2.0 Client ID",id:"create-oauth-20-client-id",level:2},{value:"Frontend Configuration",id:"frontend-configuration",level:2},{value:"Redirect URL Format",id:"redirect-url-format",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"google-oauth-setup",children:"Google OAuth Setup"})}),"\n",(0,s.jsx)(n.p,{children:"This guide covers setting up Google OAuth for your zrok public frontend."}),"\n",(0,s.jsx)(n.h2,{id:"oauth-consent-screen",children:"OAuth Consent Screen"}),"\n",(0,s.jsx)(n.p,{children:'Before configuring an OAuth Client ID, you must configure the "OAuth consent screen" in the Google Cloud Console.'}),"\n",(0,s.jsxs)(n.p,{children:["Navigate to: ",(0,s.jsx)(n.strong,{children:"APIs & Services > Credentials > OAuth consent screen"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(3738).A+"",width:"1469",height:"1141"})}),"\n",(0,s.jsx)(n.p,{children:"Configure your zrok public frontend's identity and branding:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(8963).A+"",width:"1469",height:"1141"})}),"\n",(0,s.jsx)(n.p,{children:"Add authorized domains and contact information:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(95148).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsxs)(n.p,{children:["Add the ",(0,s.jsx)(n.code,{children:"../auth/userinfo.email"})," scope (required for zrok to receive user email addresses):"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(61685).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(75934).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsx)(n.h2,{id:"create-oauth-20-client-id",children:"Create OAuth 2.0 Client ID"}),"\n",(0,s.jsxs)(n.p,{children:["Navigate to: ",(0,s.jsx)(n.strong,{children:"APIs & Services > Credentials > + Create Credentials"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(68040).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.strong,{children:"OAuth client ID"}),":"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(30019).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsxs)(n.p,{children:["Choose ",(0,s.jsx)(n.strong,{children:"Web Application"}),":"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(40186).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsxs)(n.p,{children:["Configure the ",(0,s.jsx)(n.strong,{children:"Authorized redirect URIs"})," to match your OAuth frontend address with ",(0,s.jsx)(n.code,{children:"/<provider-name>/auth/callback"})," appended:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(8597).A+"",width:"1469",height:"1179"})}),"\n",(0,s.jsx)(n.p,{children:"Save the client ID and client secret for your frontend configuration."}),"\n",(0,s.jsx)(n.h2,{id:"frontend-configuration",children:"Frontend Configuration"}),"\n",(0,s.jsxs)(n.p,{children:["Add the Google provider to your ",(0,s.jsx)(n.code,{children:"frontend.yml"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'oauth:\n  providers:\n    - name: "google"\n      type: "google"\n      client_id: "<your-google-client-id>"\n      client_secret: "<your-google-client-secret>"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"redirect-url-format",children:"Redirect URL Format"}),"\n",(0,s.jsxs)(n.p,{children:["For Google OAuth with the provider name ",(0,s.jsx)(n.code,{children:'"google"'}),", the redirect URL should be:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://your-oauth-frontend-domain:port/google/auth/callback\n"})}),"\n",(0,s.jsxs)(n.p,{children:["If you use a different provider name (e.g., ",(0,s.jsx)(n.code,{children:'"google-corp"'}),"), the URL would be:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"https://your-oauth-frontend-domain:port/google-corp/auth/callback\n"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},68040:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_create_credentials_1-e61ee7e8fa51bdc93feab84235a90673.png"},30019:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_create_credentials_2-60cf4edb52f453d605907c17400e0800.png"},40186:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_create_credentials_3-1b3db3f9057d8626d64c5466dbb05ec7.png"},8597:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_create_credentials_4-f720031df1d09f997a18842745e9ea0d.png"},3738:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_oauth_content_screen_2-b94a6456ce9b13e053b4c07d8f233e84.png"},8963:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_oauth_content_screen_3-edf62ea2b291b58093289d31c2dae58d.png"},95148:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_oauth_content_screen_4-4bc7e07b06c8a9a3c1e8f766f6f1c5a6.png"},61685:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_oauth_content_screen_5-7c375cf49d8e2e392ca12b584462ab59.png"},75934:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/google_oauth_content_screen_6-9b0fe216a782ef378313650e99ea52a1.png"},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var o=t(96540);const s={},i=o.createContext(s);function r(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);