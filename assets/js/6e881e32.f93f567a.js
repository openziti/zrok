"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3373],{89864:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/self-hosting/oauth/configuring-oauth","title":"OAuth Public Frontend Configuration","description":"zrok includes OAuth integration for public frontends, allowing you to authenticate users through various OAuth providers before they can access your shared resources. You can configure multiple OAuth providers and restrict access based on email address patterns.","source":"@site/../docs/guides/self-hosting/oauth/configuring-oauth.md","sourceDirName":"guides/self-hosting/oauth","slug":"/guides/self-hosting/oauth/configuring-oauth","permalink":"/docs/guides/self-hosting/oauth/configuring-oauth","draft":false,"unlisted":false,"editUrl":"https://github.com/openziti/zrok/blob/main/docs/../docs/guides/self-hosting/oauth/configuring-oauth.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"tutorialSidebar","previous":{"title":"OAuth","permalink":"/docs/category/oauth"},"next":{"title":"OAuth Integrations","permalink":"/docs/category/oauth-integrations"}}');var r=i(74848),t=i(28453);const o={sidebar_position:10},a="OAuth Public Frontend Configuration",l={},d=[{value:"Planning for the OAuth Frontend",id:"planning-for-the-oauth-frontend",level:2},{value:"Configuring your Public Frontend",id:"configuring-your-public-frontend",level:2},{value:"Configuration Parameters",id:"configuration-parameters",level:3},{value:"OAuth Providers",id:"oauth-providers",level:3},{value:"OAuth Identity Flow",id:"oauth-identity-flow",level:2},{value:"Flow Steps",id:"flow-steps",level:3},{value:"Session Management",id:"session-management",level:3},{value:"Using OAuth with Public Shares",id:"using-oauth-with-public-shares",level:2},{value:"Example",id:"example",level:3},{value:"HTTP Headers for Proxied Requests",id:"http-headers-for-proxied-requests",level:2},{value:"Authentication Headers",id:"authentication-headers",level:3},{value:"Example Usage in Backend Applications",id:"example-usage-in-backend-applications",level:3},{value:"Python/Flask Example",id:"pythonflask-example",level:4},{value:"Go Example",id:"go-example",level:4},{value:"Node.js/Express Example",id:"nodejsexpress-example",level:4},{value:"Security Considerations",id:"security-considerations",level:3},{value:"Logout Endpoint",id:"logout-endpoint",level:2},{value:"Logout Process",id:"logout-process",level:3},{value:"Usage Examples",id:"usage-examples",level:4},{value:"Basic Logout",id:"basic-logout",level:5},{value:"Logout with Custom Redirect",id:"logout-with-custom-redirect",level:5},{value:"Implementation Notes",id:"implementation-notes",level:4}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"oauth-public-frontend-configuration",children:"OAuth Public Frontend Configuration"})}),"\n",(0,r.jsx)(n.p,{children:"zrok includes OAuth integration for public frontends, allowing you to authenticate users through various OAuth providers before they can access your shared resources. You can configure multiple OAuth providers and restrict access based on email address patterns."}),"\n",(0,r.jsx)(n.h2,{id:"planning-for-the-oauth-frontend",children:"Planning for the OAuth Frontend"}),"\n",(0,r.jsx)(n.p,{children:"The OAuth public frontend uses an HTTP listener with a stable name to handle redirects from OAuth providers. You'll need to configure a DNS name and port for this listener that is accessible by your end users."}),"\n",(0,r.jsx)(n.p,{children:'The OAuth frontend address will be used as the "redirect URL" when configuring OAuth clients with your providers. Each provider will redirect authenticated users back to this address, which then forwards them to their original destination.'}),"\n",(0,r.jsx)(n.h2,{id:"configuring-your-public-frontend",children:"Configuring your Public Frontend"}),"\n",(0,r.jsxs)(n.p,{children:["Add an ",(0,r.jsx)(n.code,{children:"oauth"})," section to your frontend configuration:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'oauth:\n  bind_address:               "192.168.1.100:443"\n  endpoint_url:               "https://oauth.your-domain.com"\n  cookie_name:                "zrok-auth-session"\n  cookie_domain:              "your-domain.com"\n  session_lifetime:           "6h"\n  intermediate_lifetime:      "5m"\n  signing_key:                "your-unique-signing-key"\n  encryption_key:             "your-unique-encryption-key"\n\n  providers:\n    - name:                   "google"\n      type:                   "google"\n      client_id:              "<google-client-id>"\n      client_secret:          "<google-client-secret>"\n      \n    - name:                   "github"\n      type:                   "github"\n      client_id:              "<github-client-id>"\n      client_secret:          "<github-client-secret>"\n      \n    - name:                   "custom-oidc"\n      type:                   "oidc"\n      client_id:              "<oidc-client-id>"\n      client_secret:          "<oidc-client-secret>"\n      scopes:                 ["openid", "email", "profile"]\n      issuer:                 "https://your-oidc-provider.com"\n      supports_pkce:          true\n'})}),"\n",(0,r.jsx)(n.h3,{id:"configuration-parameters",children:"Configuration Parameters"}),"\n",(0,r.jsxs)(n.p,{children:["All of the following parmeters ",(0,r.jsx)(n.em,{children:"must"})," be specified in the frontend configuration. There are no defaults."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"bind_address"})}),": IP and port where the OAuth frontend will listen (format: ",(0,r.jsx)(n.code,{children:"ip:port"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"endpoint_url"})}),": Public base URL where OAuth redirects will be handled"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"cookie_name"})}),": Name for authentication cookies (suggested to use ",(0,r.jsx)(n.code,{children:"zrok-auth-session"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"cookie_domain"})}),": Domain where authentication cookies should be stored"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"session_lifetime"})}),": How long authentication sessions remain valid (e.g., ",(0,r.jsx)(n.code,{children:"6h"}),", ",(0,r.jsx)(n.code,{children:"24h"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"intermediate_lifetime"})}),": Lifetime for intermediate OAuth tokens (e.g., ",(0,r.jsx)(n.code,{children:"5m"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"signing_key"})}),": Unique 32+ character string for securing authentication payloads"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"encryption_key"})}),": Unique 24+ character string for encrypting session data"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"oauth-providers",children:"OAuth Providers"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"providers"})," array supports multiple OAuth configurations. Each provider requires:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"name"})}),": Unique identifier for this provider configuration; the ",(0,r.jsx)(n.code,{children:"name"})," becomes part of the OAuth URLs for this provider, for example the callback URL becomes ",(0,r.jsx)(n.code,{children:"/<name>/auth/callback"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"type"})}),": Provider type (",(0,r.jsx)(n.code,{children:"google"}),", ",(0,r.jsx)(n.code,{children:"github"}),", or ",(0,r.jsx)(n.code,{children:"oidc"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"client_id"})})," and ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"client_secret"})}),": OAuth client credentials"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Providers may also require additional configuration values. For detailed setup instructions for each provider type, see:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/guides/self-hosting/oauth/integrations/google",children:"Google OAuth Setup"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/guides/self-hosting/oauth/integrations/github",children:"GitHub OAuth Setup"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"/docs/guides/self-hosting/oauth/integrations/oidc",children:"Generic OIDC Setup"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"oauth-identity-flow",children:"OAuth Identity Flow"}),"\n",(0,r.jsx)(n.p,{children:"When a user accesses a zrok public share protected with OAuth, the following flow occurs:"}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User as User Browser\n    participant Share as zrok Public Share\n    participant OAuth as zrok OAuth Frontend\n    participant Provider as OAuth Provider<br/>(Google/GitHub/OIDC)\n\n    Note over User, Provider: OAuth Identity Flow for zrok Public Shares\n\n    User->>Share: 1. Initial Access<br/>GET /share-url\n    Share->>Share: 2. Authentication Check<br/>Validate session cookie\n    \n    alt No valid session\n        Share->>User: 3. Redirect to Provider<br/>302 to OAuth provider login\n        User->>Provider: 4. User Authentication<br/>Login with credentials\n        Provider->>OAuth: 5. Provider Callback<br/>GET /<provider-name>/auth/callback?code=xyz\n        OAuth->>Provider: 6. Token Exchange<br/>POST /token (exchange code for tokens)\n        Provider->>OAuth: Return access token + user info\n        OAuth->>OAuth: 7. Email Validation<br/>Check email against patterns\n        \n        alt Email validation passes\n            OAuth->>OAuth: 8. Session Creation<br/>Create session + set cookie\n            OAuth->>User: 9. Final Redirect<br/>302 back to original share URL\n            User->>Share: 10. Access Granted<br/>GET /share-url (with valid session)\n            Share->>User: Return protected content\n        else Email validation fails\n            OAuth->>User: Access Denied<br/>403 Forbidden\n        end\n    else Valid session exists\n        Share->>User: Direct Access<br/>Return protected content\n    end\n\n    Note over User, Provider: Session remains valid for configured session_lifetime"}),"\n",(0,r.jsx)(n.h3,{id:"flow-steps",children:"Flow Steps"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Initial Access"}),": User visits the zrok public share URL"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Authentication Check"}),": zrok checks for a valid authentication session cookie"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Redirect to Provider"}),": If no valid session exists, user is redirected to the configured OAuth provider's login page"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Authentication"}),": User authenticates with their OAuth provider (Google, GitHub, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Provider Callback"}),": OAuth provider redirects back to zrok's OAuth frontend at ",(0,r.jsx)(n.code,{children:"/<provider-name>/auth/callback"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token Exchange"}),": zrok exchanges the authorization code for access tokens and retrieves user information"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Email Validation"}),": zrok validates the user's email address against any configured ",(0,r.jsx)(n.code,{children:"--oauth-email-address-pattern"})," instances"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Creation"}),": If validation passes, zrok creates an authenticated session and sets a session cookie"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Final Redirect"}),": User is redirected back to the original zrok share URL"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access Granted"}),": User can now access the protected resource"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"session-management",children:"Session Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maximum Session Duration"}),": Controlled by the ",(0,r.jsx)(n.code,{children:"session_lifetime"})," configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Re-authentication"}),": Users must re-authenticate when sessions expire or when ",(0,r.jsx)(n.code,{children:"--oauth-check-interval"})," is reached. Some providers (like the generic OIDC provider) support token refresh and will attempt to transparently refresh at this interval, rather than provoking the user to re-authenticate"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cross-Share Access"}),": Sessions are not shared between shares using the same provider; switching zrok shares will re-start the authentication flow for the specified provider"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"using-oauth-with-public-shares",children:"Using OAuth with Public Shares"}),"\n",(0,r.jsx)(n.p,{children:"Once your public frontend is configured with OAuth providers, you can enable authentication on public shares using these command line options:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"--oauth-provider <name>"})}),": Enable OAuth using the specified provider name from your configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"--oauth-email-address-pattern <pattern>"})}),": Restrict access to email addresses matching the glob pattern (use multiple times for multiple patterns)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"--oauth-check-interval <duration>"})}),": How often to re-verify authentication (default: 3h)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"zrok share public --backend-mode web \\\n  --oauth-provider google \\\n  --oauth-email-address-pattern '*@example.com' \\\n  --oauth-email-address-pattern 'admin@*' \\\n  ~/public\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This creates a public share that requires Google OAuth authentication and only allows users with ",(0,r.jsx)(n.code,{children:"@example.com"})," email addresses or any ",(0,r.jsx)(n.code,{children:"admin@*"})," email address."]}),"\n",(0,r.jsx)(n.h2,{id:"http-headers-for-proxied-requests",children:"HTTP Headers for Proxied Requests"}),"\n",(0,r.jsx)(n.p,{children:"When zrok successfully authenticates a user via OAuth, it automatically adds authentication headers to all proxied requests sent to your backend application. These headers allow your application to identify the authenticated user and make authorization decisions."}),"\n",(0,r.jsx)(n.h3,{id:"authentication-headers",children:"Authentication Headers"}),"\n",(0,r.jsx)(n.p,{children:"zrok sets the following HTTP headers on every proxied request after successful OAuth authentication:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"zrok-auth-provider"})}),": The name of the OAuth provider used for authentication (e.g., ",(0,r.jsx)(n.code,{children:"google"}),", ",(0,r.jsx)(n.code,{children:"github"}),", ",(0,r.jsx)(n.code,{children:"custom-oidc"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"zrok-auth-email"})}),": The authenticated user's email address as provided by the OAuth provider"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"zrok-auth-expires"})}),": The timestamp when the authentication session will expire, formatted as RFC3339 (e.g., ",(0,r.jsx)(n.code,{children:"2024-01-15T14:30:00Z"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"example-usage-in-backend-applications",children:"Example Usage in Backend Applications"}),"\n",(0,r.jsx)(n.p,{children:"Your backend application can read these headers to implement user-specific logic:"}),"\n",(0,r.jsx)(n.h4,{id:"pythonflask-example",children:"Python/Flask Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from flask import Flask, request\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():\n    provider = request.headers.get('zrok-auth-provider')\n    email = request.headers.get('zrok-auth-email')\n    expires = request.headers.get('zrok-auth-expires')\n    \n    return f\"Welcome {email}! Authenticated via {provider}. Session expires: {expires}\"\n"})}),"\n",(0,r.jsx)(n.h4,{id:"go-example",children:"Go Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func handler(w http.ResponseWriter, r *http.Request) {\n    provider := r.Header.Get("zrok-auth-provider")\n    email := r.Header.Get("zrok-auth-email")\n    expires := r.Header.Get("zrok-auth-expires")\n    \n    fmt.Fprintf(w, "Welcome %s! Authenticated via %s. Session expires: %s", \n                email, provider, expires)\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"nodejsexpress-example",children:"Node.js/Express Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"app.get('/', (req, res) => {\n    const provider = req.headers['zrok-auth-provider'];\n    const email = req.headers['zrok-auth-email'];\n    const expires = req.headers['zrok-auth-expires'];\n    \n    res.send(`Welcome ${email}! Authenticated via ${provider}. Session expires: ${expires}`);\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trust Boundary"}),": These headers are only present when requests come through zrok's OAuth-protected frontend. Direct access to your backend would not include these headers."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Header Validation"}),": Your application should validate that these headers are present when OAuth protection is expected."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Expiration"}),": Use the ",(0,r.jsx)(n.code,{children:"zrok-auth-expires"})," header to implement client-side session warnings or automatic logout."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"logout-endpoint",children:"Logout Endpoint"}),"\n",(0,r.jsxs)(n.p,{children:["Each configured OAuth provider automatically exposes a logout endpoint at ",(0,r.jsx)(n.code,{children:"/<providerName>/logout"}),". This endpoint provides a secure way for users to terminate their authenticated sessions."]}),"\n",(0,r.jsx)(n.h3,{id:"logout-process",children:"Logout Process"}),"\n",(0,r.jsx)(n.p,{children:"When a user accesses the logout endpoint, zrok performs the following actions:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Token Revocation"}),": The OAuth access token is revoked with the respective provider:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Google"}),": Revokes the token via Google's OAuth2 revocation endpoint"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub"}),": Deletes the application token using GitHub's API"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OIDC"}),": Uses the provider's token revocation endpoint (if supported)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Session Clearing"}),": The local authentication session cookie is cleared by setting it to expire immediately"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Redirect"}),": The user is redirected to either:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A custom URL specified via the ",(0,r.jsx)(n.code,{children:"redirect_url"})," query parameter"]}),"\n",(0,r.jsx)(n.li,{children:"The provider's login page (default behavior)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"usage-examples",children:"Usage Examples"}),"\n",(0,r.jsx)(n.h5,{id:"basic-logout",children:"Basic Logout"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET https://oauth.your-domain.com/google/logout\n"})}),"\n",(0,r.jsx)(n.p,{children:"This logs the user out and redirects them to the Google OAuth login page."}),"\n",(0,r.jsx)(n.h5,{id:"logout-with-custom-redirect",children:"Logout with Custom Redirect"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET https://oauth.your-domain.com/github/logout?redirect_url=https://example.com/goodbye\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This logs the user out and redirects them to ",(0,r.jsx)(n.code,{children:"https://example.com/goodbye"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The logout endpoint validates that the session belongs to the correct provider before proceeding"}),"\n",(0,r.jsx)(n.li,{children:"If token revocation fails with the OAuth provider, the logout process will still clear the local session"}),"\n",(0,r.jsx)(n.li,{children:"The logout process is idempotent - calling it multiple times or without an active session will not cause errors"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var s=i(96540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);