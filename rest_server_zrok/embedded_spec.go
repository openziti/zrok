// Code generated by go-swagger; DO NOT EDIT.

package rest_server_zrok

// This file was generated by the swagger tool.
// Editing this file might prove futile when you re-run the swagger generate command

import (
	"encoding/json"
)

var (
	// SwaggerJSON embedded version of the swagger document used at generation time
	SwaggerJSON json.RawMessage
	// FlatSwaggerJSON embedded flattened version of the swagger document used at generation time
	FlatSwaggerJSON json.RawMessage
)

func init() {
	SwaggerJSON = json.RawMessage([]byte(`{
  "consumes": [
    "application/zrok.v1+json"
  ],
  "produces": [
    "application/zrok.v1+json"
  ],
  "schemes": [
    "http"
  ],
  "swagger": "2.0",
  "info": {
    "description": "zrok client access",
    "title": "zrok",
    "version": "1.0.0"
  },
  "basePath": "/api/v1",
  "paths": {
    "/access": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "access",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "bindAddress": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "envZId": {
                  "type": "string"
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "access created",
            "schema": {
              "properties": {
                "backendMode": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "patch": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "updateAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "bindAddress": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "access updated"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/account": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createAccount",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "password": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "created",
            "schema": {
              "properties": {
                "accountToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/agent/access": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "autoAddress": {
                  "type": "string"
                },
                "autoEndPort": {
                  "type": "integer",
                  "maximum": 65535,
                  "minimum": 1
                },
                "autoMode": {
                  "type": "boolean"
                },
                "autoStartPort": {
                  "type": "integer",
                  "maximum": 65535,
                  "minimum": 1
                },
                "bindAddress": {
                  "type": "string"
                },
                "envZId": {
                  "type": "string"
                },
                "responseHeaders": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "token": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/enroll": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "enroll",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "token": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "bad request; already enrolled"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/agent/ping": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "ping",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "version": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/share": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteShare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "accessGrants": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "backendMode": {
                  "type": "string",
                  "enum": [
                    "proxy",
                    "web",
                    "tcpTunnel",
                    "udpTunnel",
                    "caddy",
                    "drive",
                    "socks",
                    "vpn"
                  ]
                },
                "basicAuth": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "envZId": {
                  "type": "string"
                },
                "frontendSelection": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "insecure": {
                  "type": "boolean"
                },
                "oauthCheckInterval": {
                  "type": "string"
                },
                "oauthEmailAddressPatterns": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "oauthProvider": {
                  "type": "string"
                },
                "open": {
                  "type": "boolean"
                },
                "shareMode": {
                  "type": "string",
                  "enum": [
                    "public",
                    "private",
                    "reserved"
                  ]
                },
                "target": {
                  "type": "string"
                },
                "token": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "frontendEndpoints": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "token": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/status": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteStatus",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "accesses": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "bindAddress": {
                        "type": "string"
                      },
                      "frontendToken": {
                        "type": "string"
                      },
                      "responseHeaders": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "token": {
                        "type": "string"
                      }
                    }
                  }
                },
                "shares": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "backendEndpoint": {
                        "type": "string"
                      },
                      "backendMode": {
                        "type": "string"
                      },
                      "frontendEndpoints": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "open": {
                        "type": "boolean"
                      },
                      "reserved": {
                        "type": "boolean"
                      },
                      "shareMode": {
                        "type": "string"
                      },
                      "status": {
                        "type": "string"
                      },
                      "token": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/unaccess": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteUnaccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/unenroll": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "unenroll",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "400": {
            "description": "bad request; not enrolled"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/agent/unshare": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteUnshare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "token": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/changePassword": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "account"
        ],
        "operationId": "changePassword",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "newPassword": {
                  "type": "string"
                },
                "oldPassword": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "password changed"
          },
          "400": {
            "description": "password not changed"
          },
          "401": {
            "description": "unauthorized"
          },
          "422": {
            "description": "password validation failure",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/clientVersionCheck": {
      "post": {
        "tags": [
          "metadata"
        ],
        "operationId": "clientVersionCheck",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "clientVersion": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "compatible"
          },
          "400": {
            "description": "not compatible",
            "schema": {
              "type": "string"
            }
          }
        }
      }
    },
    "/configuration": {
      "get": {
        "tags": [
          "metadata"
        ],
        "operationId": "configuration",
        "responses": {
          "200": {
            "description": "current configuration",
            "schema": {
              "$ref": "#/definitions/configuration"
            }
          }
        }
      }
    },
    "/detail/account": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getAccountDetail",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/environments"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/detail/environment/{envZId}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getEnvironmentDetail",
        "parameters": [
          {
            "type": "string",
            "name": "envZId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/environmentAndResources"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/detail/frontend/{frontendId}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getFrontendDetail",
        "parameters": [
          {
            "type": "integer",
            "name": "frontendId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/frontend"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/detail/share/{shareToken}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getShareDetail",
        "parameters": [
          {
            "type": "string",
            "name": "shareToken",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/share"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/disable": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "environment"
        ],
        "operationId": "disable",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "identity": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "environment disabled"
          },
          "401": {
            "description": "invalid environment"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/enable": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "environment"
        ],
        "operationId": "enable",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "description": {
                  "type": "string"
                },
                "host": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "environment enabled",
            "schema": {
              "properties": {
                "cfg": {
                  "type": "string"
                },
                "identity": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "account not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/frontend": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createFrontend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "permissionMode": {
                  "type": "string",
                  "enum": [
                    "open",
                    "closed"
                  ]
                },
                "public_name": {
                  "type": "string"
                },
                "url_template": {
                  "type": "string"
                },
                "zId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "frontend created",
            "schema": {
              "type": "object",
              "properties": {
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteFrontend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "frontend deleted"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "patch": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "updateFrontend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "frontendToken": {
                  "type": "string"
                },
                "publicName": {
                  "type": "string"
                },
                "urlTemplate": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "frontend updated"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/frontends": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "listFrontends",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "properties": {
                  "createdAt": {
                    "type": "integer"
                  },
                  "frontendToken": {
                    "type": "string"
                  },
                  "publicName": {
                    "type": "string"
                  },
                  "updatedAt": {
                    "type": "integer"
                  },
                  "urlTemplate": {
                    "type": "string"
                  },
                  "zId": {
                    "type": "string"
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/grants": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "grants",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/identity": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createIdentity",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "name": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "created",
            "schema": {
              "properties": {
                "cfg": {
                  "type": "string"
                },
                "identity": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteIdentity",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "zId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "deleted"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/invite": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "invite",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "inviteToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "invitation created"
          },
          "400": {
            "description": "invitation not created (already exists)",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/invite/token/generate": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "inviteTokenGenerate",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "inviteTokens": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "invite tokens created"
          },
          "400": {
            "description": "invite tokens not created"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "login",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "password": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "login successful",
            "schema": {
              "type": "string"
            }
          },
          "401": {
            "description": "invalid login"
          }
        }
      }
    },
    "/members/{organizationToken}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "listOrgMembers",
        "parameters": [
          {
            "type": "string",
            "name": "organizationToken",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "members": {
                  "type": "array",
                  "items": {
                    "properties": {
                      "admin": {
                        "type": "boolean"
                      },
                      "email": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/memberships": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "listMemberships",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "memberships": {
                  "type": "array",
                  "items": {
                    "properties": {
                      "admin": {
                        "type": "boolean"
                      },
                      "description": {
                        "type": "string"
                      },
                      "organizationToken": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/metrics/account": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getAccountMetrics",
        "parameters": [
          {
            "type": "string",
            "name": "duration",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "account metrics",
            "schema": {
              "$ref": "#/definitions/metrics"
            }
          },
          "400": {
            "description": "bad request"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/metrics/environment/{envId}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getEnvironmentMetrics",
        "parameters": [
          {
            "type": "string",
            "name": "envId",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "name": "duration",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "environment metrics",
            "schema": {
              "$ref": "#/definitions/metrics"
            }
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/metrics/share/{shareToken}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getShareMetrics",
        "parameters": [
          {
            "type": "string",
            "name": "shareToken",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "name": "duration",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "share metrics",
            "schema": {
              "$ref": "#/definitions/metrics"
            }
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createOrganization",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "description": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "organization created",
            "schema": {
              "properties": {
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteOrganization",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "organization deleted"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "organization not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization/add": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "addOrganizationMember",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "admin": {
                  "type": "boolean"
                },
                "email": {
                  "type": "string"
                },
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "member added"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization/list": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "listOrganizationMembers",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "list organization members",
            "schema": {
              "properties": {
                "members": {
                  "type": "array",
                  "items": {
                    "properties": {
                      "admin": {
                        "type": "boolean"
                      },
                      "email": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization/remove": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "removeOrganizationMember",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "member removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organizations": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "listOrganizations",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "organizations": {
                  "type": "array",
                  "items": {
                    "properties": {
                      "description": {
                        "type": "string"
                      },
                      "organizationToken": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/overview": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "overview",
        "responses": {
          "200": {
            "description": "overview returned",
            "schema": {
              "$ref": "#/definitions/overview"
            }
          },
          "500": {
            "description": "internal server error",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          }
        }
      }
    },
    "/overview/{organizationToken}/{accountEmail}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "orgAccountOverview",
        "parameters": [
          {
            "type": "string",
            "name": "organizationToken",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "name": "accountEmail",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/overview"
            }
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/regenerateAccountToken": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "account"
        ],
        "operationId": "regenerateAccountToken",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "emailAddress": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "regenerate account token",
            "schema": {
              "properties": {
                "accountToken": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "account not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/register": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "register",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "password": {
                  "type": "string"
                },
                "registerToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "account created",
            "schema": {
              "properties": {
                "accountToken": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "request not found"
          },
          "422": {
            "description": "password validation failure",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/resetPassword": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "resetPassword",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "password": {
                  "type": "string"
                },
                "resetToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "password reset"
          },
          "404": {
            "description": "request not found"
          },
          "422": {
            "description": "password validation failure",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/resetPasswordRequest": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "resetPasswordRequest",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "emailAddress": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "reset password request created"
          },
          "400": {
            "description": "reset password request not created"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/secrets/access": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "addSecretsAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "secretsAccessIdentityZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "400": {
            "description": "access not added"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteSecretsAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "secretsAccessIdentityZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "400": {
            "description": "access not removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/share": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "share",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/shareRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "share created",
            "schema": {
              "$ref": "#/definitions/shareResponse"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "409": {
            "description": "conflict"
          },
          "422": {
            "description": "unprocessable"
          },
          "429": {
            "description": "over limit"
          },
          "500": {
            "description": "internal server error",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          }
        }
      },
      "patch": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "updateShare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "addAccessGrants": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "backendProxyEndpoint": {
                  "type": "string"
                },
                "removeAccessGrants": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "share updated"
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/sparklines": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getSparklines",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "account": {
                  "type": "boolean"
                },
                "environments": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "shares": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "sparklines data",
            "schema": {
              "properties": {
                "sparklines": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/metrics"
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/unaccess": {
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "unaccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "access removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/unshare": {
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "unshare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "reserved": {
                  "type": "boolean"
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "share removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          }
        }
      }
    },
    "/verify": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "verify",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "registerToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "registration token ready",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "registration token not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/version": {
      "get": {
        "tags": [
          "metadata"
        ],
        "operationId": "version",
        "responses": {
          "200": {
            "description": "legacy upgrade required",
            "schema": {
              "$ref": "#/definitions/version"
            }
          }
        }
      }
    },
    "/versions": {
      "get": {
        "tags": [
          "metadata"
        ],
        "operationId": "versionInventory",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "controllerVersion": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "authUser": {
      "type": "object",
      "properties": {
        "password": {
          "type": "string"
        },
        "username": {
          "type": "string"
        }
      }
    },
    "configuration": {
      "type": "object",
      "properties": {
        "inviteTokenContact": {
          "type": "string"
        },
        "invitesOpen": {
          "type": "boolean"
        },
        "newAccountLink": {
          "type": "string"
        },
        "requiresInviteToken": {
          "type": "boolean"
        },
        "touLink": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      }
    },
    "environment": {
      "type": "object",
      "properties": {
        "activity": {
          "$ref": "#/definitions/sparkData"
        },
        "address": {
          "type": "string"
        },
        "createdAt": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "host": {
          "type": "string"
        },
        "limited": {
          "type": "boolean"
        },
        "remoteAgent": {
          "type": "boolean"
        },
        "updatedAt": {
          "type": "integer"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "environmentAndResources": {
      "type": "object",
      "properties": {
        "environment": {
          "$ref": "#/definitions/environment"
        },
        "frontends": {
          "$ref": "#/definitions/frontends"
        },
        "shares": {
          "$ref": "#/definitions/shares"
        }
      }
    },
    "environments": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/environment"
      }
    },
    "errorMessage": {
      "type": "string"
    },
    "frontend": {
      "type": "object",
      "properties": {
        "backendMode": {
          "type": "string"
        },
        "bindAddress": {
          "type": "string"
        },
        "createdAt": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "frontendToken": {
          "type": "string"
        },
        "id": {
          "type": "integer"
        },
        "shareToken": {
          "type": "string"
        },
        "updatedAt": {
          "type": "integer"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "frontends": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/frontend"
      }
    },
    "metrics": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "period": {
          "type": "number"
        },
        "samples": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/metricsSample"
          }
        },
        "scope": {
          "type": "string"
        }
      }
    },
    "metricsSample": {
      "type": "object",
      "properties": {
        "rx": {
          "type": "number"
        },
        "timestamp": {
          "type": "number"
        },
        "tx": {
          "type": "number"
        }
      }
    },
    "oidcConfig": {
      "type": "object",
      "properties": {
        "authzUrlParams": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "clientId": {
          "type": "string"
        },
        "clientSecret": {
          "type": "string"
        },
        "cookieDomain": {
          "type": "string"
        },
        "idleSessionDuration": {
          "type": "string"
        },
        "issuerUrl": {
          "type": "string"
        },
        "maxSessionDuration": {
          "type": "string"
        },
        "providerId": {
          "type": "string"
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "userinfoRefreshInterval": {
          "type": "string"
        }
      }
    },
    "overview": {
      "type": "object",
      "properties": {
        "accountLimited": {
          "type": "boolean"
        },
        "environments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/environmentAndResources"
          }
        }
      }
    },
    "principal": {
      "type": "object",
      "properties": {
        "admin": {
          "type": "boolean"
        },
        "email": {
          "type": "string"
        },
        "id": {
          "type": "integer"
        },
        "limitless": {
          "type": "boolean"
        },
        "token": {
          "type": "string"
        }
      }
    },
    "share": {
      "type": "object",
      "properties": {
        "activity": {
          "$ref": "#/definitions/sparkData"
        },
        "backendMode": {
          "type": "string"
        },
        "backendProxyEndpoint": {
          "type": "string"
        },
        "createdAt": {
          "type": "integer"
        },
        "frontendEndpoint": {
          "type": "string"
        },
        "frontendSelection": {
          "type": "string"
        },
        "limited": {
          "type": "boolean"
        },
        "reserved": {
          "type": "boolean"
        },
        "shareMode": {
          "type": "string"
        },
        "shareToken": {
          "type": "string"
        },
        "updatedAt": {
          "type": "integer"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "shareRequest": {
      "type": "object",
      "properties": {
        "accessGrants": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "authScheme": {
          "type": "string",
          "enum": [
            "none",
            "basic",
            "oauth",
            "oidc"
          ]
        },
        "authUsers": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/authUser"
          }
        },
        "backendMode": {
          "type": "string",
          "enum": [
            "proxy",
            "web",
            "tcpTunnel",
            "udpTunnel",
            "caddy",
            "drive",
            "socks",
            "vpn"
          ]
        },
        "backendProxyEndpoint": {
          "type": "string"
        },
        "envZId": {
          "type": "string"
        },
        "frontendSelection": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "oauthAuthorizationCheckInterval": {
          "type": "string"
        },
        "oauthEmailDomains": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "oauthProvider": {
          "type": "string",
          "enum": [
            "github",
            "google"
          ]
        },
        "oidcConfig": {
          "$ref": "#/definitions/oidcConfig"
        },
        "permissionMode": {
          "type": "string",
          "enum": [
            "open",
            "closed"
          ]
        },
        "reserved": {
          "type": "boolean"
        },
        "shareMode": {
          "type": "string",
          "enum": [
            "public",
            "private"
          ]
        },
        "uniqueName": {
          "type": "string"
        }
      }
    },
    "shareResponse": {
      "type": "object",
      "properties": {
        "frontendProxyEndpoints": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "shareToken": {
          "type": "string"
        }
      }
    },
    "shares": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/share"
      }
    },
    "sparkData": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/sparkDataSample"
      }
    },
    "sparkDataSample": {
      "type": "object",
      "properties": {
        "rx": {
          "type": "number"
        },
        "tx": {
          "type": "number"
        }
      }
    },
    "version": {
      "type": "string"
    }
  },
  "securityDefinitions": {
    "key": {
      "type": "apiKey",
      "name": "x-token",
      "in": "header"
    }
  }
}`))
	FlatSwaggerJSON = json.RawMessage([]byte(`{
  "consumes": [
    "application/zrok.v1+json"
  ],
  "produces": [
    "application/zrok.v1+json"
  ],
  "schemes": [
    "http"
  ],
  "swagger": "2.0",
  "info": {
    "description": "zrok client access",
    "title": "zrok",
    "version": "1.0.0"
  },
  "basePath": "/api/v1",
  "paths": {
    "/access": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "access",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "bindAddress": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "envZId": {
                  "type": "string"
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "access created",
            "schema": {
              "properties": {
                "backendMode": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "patch": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "updateAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "bindAddress": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "access updated"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/account": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createAccount",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "password": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "created",
            "schema": {
              "properties": {
                "accountToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/agent/access": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "autoAddress": {
                  "type": "string"
                },
                "autoEndPort": {
                  "type": "integer",
                  "maximum": 65535,
                  "minimum": 1
                },
                "autoMode": {
                  "type": "boolean"
                },
                "autoStartPort": {
                  "type": "integer",
                  "maximum": 65535,
                  "minimum": 1
                },
                "bindAddress": {
                  "type": "string"
                },
                "envZId": {
                  "type": "string"
                },
                "responseHeaders": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "token": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/enroll": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "enroll",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "token": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "bad request; already enrolled"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/agent/ping": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "ping",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "version": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/share": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteShare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "accessGrants": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "backendMode": {
                  "type": "string",
                  "enum": [
                    "proxy",
                    "web",
                    "tcpTunnel",
                    "udpTunnel",
                    "caddy",
                    "drive",
                    "socks",
                    "vpn"
                  ]
                },
                "basicAuth": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "envZId": {
                  "type": "string"
                },
                "frontendSelection": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "insecure": {
                  "type": "boolean"
                },
                "oauthCheckInterval": {
                  "type": "string"
                },
                "oauthEmailAddressPatterns": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "oauthProvider": {
                  "type": "string"
                },
                "open": {
                  "type": "boolean"
                },
                "shareMode": {
                  "type": "string",
                  "enum": [
                    "public",
                    "private",
                    "reserved"
                  ]
                },
                "target": {
                  "type": "string"
                },
                "token": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "frontendEndpoints": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "token": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/status": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteStatus",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "accesses": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/AccessesItems0"
                  }
                },
                "shares": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/SharesItems0"
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/unaccess": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteUnaccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/agent/unenroll": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "unenroll",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "400": {
            "description": "bad request; not enrolled"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/agent/unshare": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "agent"
        ],
        "operationId": "remoteUnshare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "token": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          },
          "502": {
            "description": "bad gateway; agent not reachable"
          }
        }
      }
    },
    "/changePassword": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "account"
        ],
        "operationId": "changePassword",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "newPassword": {
                  "type": "string"
                },
                "oldPassword": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "password changed"
          },
          "400": {
            "description": "password not changed"
          },
          "401": {
            "description": "unauthorized"
          },
          "422": {
            "description": "password validation failure",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/clientVersionCheck": {
      "post": {
        "tags": [
          "metadata"
        ],
        "operationId": "clientVersionCheck",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "clientVersion": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "compatible"
          },
          "400": {
            "description": "not compatible",
            "schema": {
              "type": "string"
            }
          }
        }
      }
    },
    "/configuration": {
      "get": {
        "tags": [
          "metadata"
        ],
        "operationId": "configuration",
        "responses": {
          "200": {
            "description": "current configuration",
            "schema": {
              "$ref": "#/definitions/configuration"
            }
          }
        }
      }
    },
    "/detail/account": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getAccountDetail",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/environments"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/detail/environment/{envZId}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getEnvironmentDetail",
        "parameters": [
          {
            "type": "string",
            "name": "envZId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/environmentAndResources"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/detail/frontend/{frontendId}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getFrontendDetail",
        "parameters": [
          {
            "type": "integer",
            "name": "frontendId",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/frontend"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/detail/share/{shareToken}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getShareDetail",
        "parameters": [
          {
            "type": "string",
            "name": "shareToken",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/share"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/disable": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "environment"
        ],
        "operationId": "disable",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "identity": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "environment disabled"
          },
          "401": {
            "description": "invalid environment"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/enable": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "environment"
        ],
        "operationId": "enable",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "description": {
                  "type": "string"
                },
                "host": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "environment enabled",
            "schema": {
              "properties": {
                "cfg": {
                  "type": "string"
                },
                "identity": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "account not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/frontend": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createFrontend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "permissionMode": {
                  "type": "string",
                  "enum": [
                    "open",
                    "closed"
                  ]
                },
                "public_name": {
                  "type": "string"
                },
                "url_template": {
                  "type": "string"
                },
                "zId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "frontend created",
            "schema": {
              "type": "object",
              "properties": {
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteFrontend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "frontendToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "frontend deleted"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "patch": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "updateFrontend",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "type": "object",
              "properties": {
                "frontendToken": {
                  "type": "string"
                },
                "publicName": {
                  "type": "string"
                },
                "urlTemplate": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "frontend updated"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/frontends": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "listFrontends",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/ListFrontendsOKBodyItems0"
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/grants": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "grants",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/identity": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createIdentity",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "name": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "created",
            "schema": {
              "properties": {
                "cfg": {
                  "type": "string"
                },
                "identity": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteIdentity",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "zId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "deleted"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/invite": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "invite",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "inviteToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "invitation created"
          },
          "400": {
            "description": "invitation not created (already exists)",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/invite/token/generate": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "inviteTokenGenerate",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "inviteTokens": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "invite tokens created"
          },
          "400": {
            "description": "invite tokens not created"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/login": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "login",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "password": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "login successful",
            "schema": {
              "type": "string"
            }
          },
          "401": {
            "description": "invalid login"
          }
        }
      }
    },
    "/members/{organizationToken}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "listOrgMembers",
        "parameters": [
          {
            "type": "string",
            "name": "organizationToken",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "members": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/MembersItems0"
                  }
                }
              }
            }
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/memberships": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "listMemberships",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "memberships": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/MembershipsItems0"
                  }
                }
              }
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/metrics/account": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getAccountMetrics",
        "parameters": [
          {
            "type": "string",
            "name": "duration",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "account metrics",
            "schema": {
              "$ref": "#/definitions/metrics"
            }
          },
          "400": {
            "description": "bad request"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/metrics/environment/{envId}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getEnvironmentMetrics",
        "parameters": [
          {
            "type": "string",
            "name": "envId",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "name": "duration",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "environment metrics",
            "schema": {
              "$ref": "#/definitions/metrics"
            }
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/metrics/share/{shareToken}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getShareMetrics",
        "parameters": [
          {
            "type": "string",
            "name": "shareToken",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "name": "duration",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "share metrics",
            "schema": {
              "$ref": "#/definitions/metrics"
            }
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "createOrganization",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "description": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "organization created",
            "schema": {
              "properties": {
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteOrganization",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "organization deleted"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "organization not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization/add": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "addOrganizationMember",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "admin": {
                  "type": "boolean"
                },
                "email": {
                  "type": "string"
                },
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "member added"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization/list": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "listOrganizationMembers",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "list organization members",
            "schema": {
              "properties": {
                "members": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/MembersItems0"
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organization/remove": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "removeOrganizationMember",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                },
                "organizationToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "member removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/organizations": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "listOrganizations",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "organizations": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/OrganizationsItems0"
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/overview": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "overview",
        "responses": {
          "200": {
            "description": "overview returned",
            "schema": {
              "$ref": "#/definitions/overview"
            }
          },
          "500": {
            "description": "internal server error",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          }
        }
      }
    },
    "/overview/{organizationToken}/{accountEmail}": {
      "get": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "orgAccountOverview",
        "parameters": [
          {
            "type": "string",
            "name": "organizationToken",
            "in": "path",
            "required": true
          },
          {
            "type": "string",
            "name": "accountEmail",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "$ref": "#/definitions/overview"
            }
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/regenerateAccountToken": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "account"
        ],
        "operationId": "regenerateAccountToken",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "emailAddress": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "regenerate account token",
            "schema": {
              "properties": {
                "accountToken": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "account not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/register": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "register",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "password": {
                  "type": "string"
                },
                "registerToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "account created",
            "schema": {
              "properties": {
                "accountToken": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "request not found"
          },
          "422": {
            "description": "password validation failure",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/resetPassword": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "resetPassword",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "password": {
                  "type": "string"
                },
                "resetToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "password reset"
          },
          "404": {
            "description": "request not found"
          },
          "422": {
            "description": "password validation failure",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/resetPasswordRequest": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "resetPasswordRequest",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "emailAddress": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "reset password request created"
          },
          "400": {
            "description": "reset password request not created"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/secrets/access": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "addSecretsAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "secretsAccessIdentityZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "400": {
            "description": "access not added"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      },
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "admin"
        ],
        "operationId": "deleteSecretsAccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "secretsAccessIdentityZId": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "ok"
          },
          "400": {
            "description": "access not removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/share": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "share",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "$ref": "#/definitions/shareRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "share created",
            "schema": {
              "$ref": "#/definitions/shareResponse"
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "409": {
            "description": "conflict"
          },
          "422": {
            "description": "unprocessable"
          },
          "429": {
            "description": "over limit"
          },
          "500": {
            "description": "internal server error",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          }
        }
      },
      "patch": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "updateShare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "addAccessGrants": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "backendProxyEndpoint": {
                  "type": "string"
                },
                "removeAccessGrants": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "share updated"
          },
          "400": {
            "description": "bad request"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/sparklines": {
      "post": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "metadata"
        ],
        "operationId": "getSparklines",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "account": {
                  "type": "boolean"
                },
                "environments": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                },
                "shares": {
                  "type": "array",
                  "items": {
                    "type": "string"
                  }
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "sparklines data",
            "schema": {
              "properties": {
                "sparklines": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/metrics"
                  }
                }
              }
            }
          },
          "401": {
            "description": "unauthorized"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/unaccess": {
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "unaccess",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "frontendToken": {
                  "type": "string"
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "access removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/unshare": {
      "delete": {
        "security": [
          {
            "key": []
          }
        ],
        "tags": [
          "share"
        ],
        "operationId": "unshare",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "envZId": {
                  "type": "string"
                },
                "reserved": {
                  "type": "boolean"
                },
                "shareToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "share removed"
          },
          "401": {
            "description": "unauthorized"
          },
          "404": {
            "description": "not found"
          },
          "500": {
            "description": "internal server error",
            "schema": {
              "$ref": "#/definitions/errorMessage"
            }
          }
        }
      }
    },
    "/verify": {
      "post": {
        "tags": [
          "account"
        ],
        "operationId": "verify",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "schema": {
              "properties": {
                "registerToken": {
                  "type": "string"
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "registration token ready",
            "schema": {
              "properties": {
                "email": {
                  "type": "string"
                }
              }
            }
          },
          "404": {
            "description": "registration token not found"
          },
          "500": {
            "description": "internal server error"
          }
        }
      }
    },
    "/version": {
      "get": {
        "tags": [
          "metadata"
        ],
        "operationId": "version",
        "responses": {
          "200": {
            "description": "legacy upgrade required",
            "schema": {
              "$ref": "#/definitions/version"
            }
          }
        }
      }
    },
    "/versions": {
      "get": {
        "tags": [
          "metadata"
        ],
        "operationId": "versionInventory",
        "responses": {
          "200": {
            "description": "ok",
            "schema": {
              "properties": {
                "controllerVersion": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "AccessesItems0": {
      "type": "object",
      "properties": {
        "bindAddress": {
          "type": "string"
        },
        "frontendToken": {
          "type": "string"
        },
        "responseHeaders": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "token": {
          "type": "string"
        }
      }
    },
    "ListFrontendsOKBodyItems0": {
      "type": "object",
      "properties": {
        "createdAt": {
          "type": "integer"
        },
        "frontendToken": {
          "type": "string"
        },
        "publicName": {
          "type": "string"
        },
        "updatedAt": {
          "type": "integer"
        },
        "urlTemplate": {
          "type": "string"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "MembersItems0": {
      "properties": {
        "admin": {
          "type": "boolean"
        },
        "email": {
          "type": "string"
        }
      }
    },
    "MembershipsItems0": {
      "properties": {
        "admin": {
          "type": "boolean"
        },
        "description": {
          "type": "string"
        },
        "organizationToken": {
          "type": "string"
        }
      }
    },
    "OrganizationsItems0": {
      "properties": {
        "description": {
          "type": "string"
        },
        "organizationToken": {
          "type": "string"
        }
      }
    },
    "SharesItems0": {
      "type": "object",
      "properties": {
        "backendEndpoint": {
          "type": "string"
        },
        "backendMode": {
          "type": "string"
        },
        "frontendEndpoints": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "open": {
          "type": "boolean"
        },
        "reserved": {
          "type": "boolean"
        },
        "shareMode": {
          "type": "string"
        },
        "status": {
          "type": "string"
        },
        "token": {
          "type": "string"
        }
      }
    },
    "authUser": {
      "type": "object",
      "properties": {
        "password": {
          "type": "string"
        },
        "username": {
          "type": "string"
        }
      }
    },
    "configuration": {
      "type": "object",
      "properties": {
        "inviteTokenContact": {
          "type": "string"
        },
        "invitesOpen": {
          "type": "boolean"
        },
        "newAccountLink": {
          "type": "string"
        },
        "requiresInviteToken": {
          "type": "boolean"
        },
        "touLink": {
          "type": "string"
        },
        "version": {
          "type": "string"
        }
      }
    },
    "environment": {
      "type": "object",
      "properties": {
        "activity": {
          "$ref": "#/definitions/sparkData"
        },
        "address": {
          "type": "string"
        },
        "createdAt": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "host": {
          "type": "string"
        },
        "limited": {
          "type": "boolean"
        },
        "remoteAgent": {
          "type": "boolean"
        },
        "updatedAt": {
          "type": "integer"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "environmentAndResources": {
      "type": "object",
      "properties": {
        "environment": {
          "$ref": "#/definitions/environment"
        },
        "frontends": {
          "$ref": "#/definitions/frontends"
        },
        "shares": {
          "$ref": "#/definitions/shares"
        }
      }
    },
    "environments": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/environment"
      }
    },
    "errorMessage": {
      "type": "string"
    },
    "frontend": {
      "type": "object",
      "properties": {
        "backendMode": {
          "type": "string"
        },
        "bindAddress": {
          "type": "string"
        },
        "createdAt": {
          "type": "integer"
        },
        "description": {
          "type": "string"
        },
        "frontendToken": {
          "type": "string"
        },
        "id": {
          "type": "integer"
        },
        "shareToken": {
          "type": "string"
        },
        "updatedAt": {
          "type": "integer"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "frontends": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/frontend"
      }
    },
    "metrics": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "period": {
          "type": "number"
        },
        "samples": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/metricsSample"
          }
        },
        "scope": {
          "type": "string"
        }
      }
    },
    "metricsSample": {
      "type": "object",
      "properties": {
        "rx": {
          "type": "number"
        },
        "timestamp": {
          "type": "number"
        },
        "tx": {
          "type": "number"
        }
      }
    },
    "oidcConfig": {
      "type": "object",
      "properties": {
        "authzUrlParams": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "clientId": {
          "type": "string"
        },
        "clientSecret": {
          "type": "string"
        },
        "cookieDomain": {
          "type": "string"
        },
        "idleSessionDuration": {
          "type": "string"
        },
        "issuerUrl": {
          "type": "string"
        },
        "maxSessionDuration": {
          "type": "string"
        },
        "providerId": {
          "type": "string"
        },
        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "userinfoRefreshInterval": {
          "type": "string"
        }
      }
    },
    "overview": {
      "type": "object",
      "properties": {
        "accountLimited": {
          "type": "boolean"
        },
        "environments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/environmentAndResources"
          }
        }
      }
    },
    "principal": {
      "type": "object",
      "properties": {
        "admin": {
          "type": "boolean"
        },
        "email": {
          "type": "string"
        },
        "id": {
          "type": "integer"
        },
        "limitless": {
          "type": "boolean"
        },
        "token": {
          "type": "string"
        }
      }
    },
    "share": {
      "type": "object",
      "properties": {
        "activity": {
          "$ref": "#/definitions/sparkData"
        },
        "backendMode": {
          "type": "string"
        },
        "backendProxyEndpoint": {
          "type": "string"
        },
        "createdAt": {
          "type": "integer"
        },
        "frontendEndpoint": {
          "type": "string"
        },
        "frontendSelection": {
          "type": "string"
        },
        "limited": {
          "type": "boolean"
        },
        "reserved": {
          "type": "boolean"
        },
        "shareMode": {
          "type": "string"
        },
        "shareToken": {
          "type": "string"
        },
        "updatedAt": {
          "type": "integer"
        },
        "zId": {
          "type": "string"
        }
      }
    },
    "shareRequest": {
      "type": "object",
      "properties": {
        "accessGrants": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "authScheme": {
          "type": "string",
          "enum": [
            "none",
            "basic",
            "oauth",
            "oidc"
          ]
        },
        "authUsers": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/authUser"
          }
        },
        "backendMode": {
          "type": "string",
          "enum": [
            "proxy",
            "web",
            "tcpTunnel",
            "udpTunnel",
            "caddy",
            "drive",
            "socks",
            "vpn"
          ]
        },
        "backendProxyEndpoint": {
          "type": "string"
        },
        "envZId": {
          "type": "string"
        },
        "frontendSelection": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "oauthAuthorizationCheckInterval": {
          "type": "string"
        },
        "oauthEmailDomains": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "oauthProvider": {
          "type": "string",
          "enum": [
            "github",
            "google"
          ]
        },
        "oidcConfig": {
          "$ref": "#/definitions/oidcConfig"
        },
        "permissionMode": {
          "type": "string",
          "enum": [
            "open",
            "closed"
          ]
        },
        "reserved": {
          "type": "boolean"
        },
        "shareMode": {
          "type": "string",
          "enum": [
            "public",
            "private"
          ]
        },
        "uniqueName": {
          "type": "string"
        }
      }
    },
    "shareResponse": {
      "type": "object",
      "properties": {
        "frontendProxyEndpoints": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "shareToken": {
          "type": "string"
        }
      }
    },
    "shares": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/share"
      }
    },
    "sparkData": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/sparkDataSample"
      }
    },
    "sparkDataSample": {
      "type": "object",
      "properties": {
        "rx": {
          "type": "number"
        },
        "tx": {
          "type": "number"
        }
      }
    },
    "version": {
      "type": "string"
    }
  },
  "securityDefinitions": {
    "key": {
      "type": "apiKey",
      "name": "x-token",
      "in": "header"
    }
  }
}`))
}
